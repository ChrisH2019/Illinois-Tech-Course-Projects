/**
 * jQuery iLightBox - Revolutionary Lightbox Plugin
 * http://www.ilightbox.net/
 *
 * @version: 2.2.0 - September 23, 2014
 *
 * @author: Hemn Chawroka
 *          http://www.iprodev.com/
 *
 */


(function($,window,undefined){function getPixel(e,t){return parseInt(e.css(t),10)||0}function within(e,t,n){return e<t?t:e>n?n:e}function getViewport(){var e=window,t="inner";if(!("innerWidth"in window)){t="client";e=document.documentElement||document.body}return{width:e[t+"Width"],height:e[t+"Height"]}}function removeHash(){var e=getScrollXY();window.location.hash="";window.scrollTo(e.x,e.y)}function doAjax(e,t){var e="http://ilightbox.net/getSource/jsonp.php?url="+encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A");$.ajax({url:e,dataType:"jsonp"});iLCallback=function(e){t.call(this,e)}}function findImageInElement(e){var t=$("*",e),n=new Array;t.each(function(){var e="",t=this;if($(t).css("background-image")!="none"){e=$(t).css("background-image")}else if(typeof $(t).attr("src")!="undefined"&&t.nodeName.toLowerCase()=="img"){e=$(t).attr("src")}if(e.indexOf("gradient")==-1){e=e.replace(/url\(\"/g,"");e=e.replace(/url\(/g,"");e=e.replace(/\"\)/g,"");e=e.replace(/\)/g,"");var r=e.split(",");for(var i=0;i<r.length;i++){if(r[i].length>0&&$.inArray(r[i],n)==-1){var s="";if(browser.msie&&browser.version<9){s="?"+floor(random()*3e3)}n.push(r[i]+s)}}}});return n}function getExtension(e){var t=e.split(".").pop().toLowerCase(),n=t.indexOf("?")!==-1?t.split("?").pop():"";return t.replace(n,"")}function getTypeByExtension(e){var t,n=getExtension(e);if(extensions.image.indexOf(n)!==-1)t="image";else if(extensions.flash.indexOf(n)!==-1)t="flash";else if(extensions.video.indexOf(n)!==-1)t="video";else t="iframe";return t}function percentToValue(e,t){return parseInt(t/100*e)}function parseURI(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function absolutizeURI(e,t){function r(e){var t=[];e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){if(e==="/.."){t.pop()}else{t.push(e)}});return t.join("").replace(/^\//,e.charAt(0)==="/"?"/":"")}var n=this;t=parseURI(t||"");e=parseURI(e||"");return!t||!e?null:(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+r(t.protocol||t.authority||t.pathname.charAt(0)==="/"?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash}function version_compare(e,t,n){this.php_js=this.php_js||{};this.php_js.ENV=this.php_js.ENV||{};var r=0,i=0,s=0,o={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},u=function(e){e=(""+e).replace(/[_\-+]/g,".");e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".");return!e.length?[-8]:e.split(".")},a=function(e){return!e?0:isNaN(e)?o[e]||-7:parseInt(e,10)};e=u(e);t=u(t);i=max(e.length,t.length);for(r=0;r<i;r++){if(e[r]==t[r]){continue}e[r]=a(e[r]);t[r]=a(t[r]);if(e[r]<t[r]){s=-1;break}else if(e[r]>t[r]){s=1;break}}if(!n){return s}switch(n){case">":case"gt":return s>0;case">=":case"ge":return s>=0;case"<=":case"le":return s<=0;case"==":case"=":case"eq":return s===0;case"<>":case"!=":case"ne":return s!==0;case"":case"<":case"lt":return s<0;default:return null}}function getScrollXY(){var e=0,t=0;if(typeof window.pageYOffset=="number"){t=window.pageYOffset;e=window.pageXOffset}else if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){t=document.body.scrollTop;e=document.body.scrollLeft}else if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){t=document.documentElement.scrollTop;e=document.documentElement.scrollLeft}return{x:e,y:t}}function AC_QuickTimeVersion(){return gQTGeneratorVersion}function _QTComplain(e,t){t=t.replace("%%",e);alert(t)}function _QTAddAttribute(e,t,n){var r;r=gTagAttrs[e+t];null==r&&(r=gTagAttrs[t]);return null!=r?(0==t.indexOf(e)&&null==n&&(n=t.substring(e.length)),null==n&&(n=t),n+'="'+r+'" '):""}function _QTAddObjectAttr(e,t){if(0==e.indexOf("emb#"))return"";0==e.indexOf("obj#")&&null==t&&(t=e.substring(4));return _QTAddAttribute("obj#",e,t)}function _QTAddEmbedAttr(e,t){if(0==e.indexOf("obj#"))return"";0==e.indexOf("emb#")&&null==t&&(t=e.substring(4));return _QTAddAttribute("emb#",e,t)}function _QTAddObjectParam(e,t){var n,r="",i=t?" />":">";-1==e.indexOf("emb#")&&(n=gTagAttrs["obj#"+e],null==n&&(n=gTagAttrs[e]),0==e.indexOf("obj#")&&(e=e.substring(4)),null!=n&&(r='  <param name="'+e+'" value="'+n+'"'+i+"\n"));return r}function _QTDeleteTagAttrs(){for(var e=0;e<arguments.length;e++){var t=arguments[e];delete gTagAttrs[t];delete gTagAttrs["emb#"+t];delete gTagAttrs["obj#"+t]}}function _QTGenerate(e,t,n){if(4>n.length||0!=n.length%2)return _QTComplain(e,gArgCountErr),"";gTagAttrs=[];gTagAttrs.src=n[0];gTagAttrs.width=n[1];gTagAttrs.height=n[2];gTagAttrs.classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B";gTagAttrs.pluginspage="http://www.apple.com/quicktime/download/";e=n[3];if(null==e||""==e)e="6,0,2,0";gTagAttrs.codebase="http://www.apple.com/qtactivex/qtplugin.cab#version="+e;for(var r,i=4;i<n.length;i+=2)r=n[i].toLowerCase(),e=n[i+1],"name"==r||"id"==r?gTagAttrs.name=e:gTagAttrs[r]=e;n="<object "+_QTAddObjectAttr("classid")+_QTAddObjectAttr("width")+_QTAddObjectAttr("height")+_QTAddObjectAttr("codebase")+_QTAddObjectAttr("name","id")+_QTAddObjectAttr("tabindex")+_QTAddObjectAttr("hspace")+_QTAddObjectAttr("vspace")+_QTAddObjectAttr("border")+_QTAddObjectAttr("align")+_QTAddObjectAttr("class")+_QTAddObjectAttr("title")+_QTAddObjectAttr("accesskey")+_QTAddObjectAttr("noexternaldata")+">\n"+_QTAddObjectParam("src",t);i="  <embed "+_QTAddEmbedAttr("src")+_QTAddEmbedAttr("width")+_QTAddEmbedAttr("height")+_QTAddEmbedAttr("pluginspage")+_QTAddEmbedAttr("name")+_QTAddEmbedAttr("align")+_QTAddEmbedAttr("tabindex");_QTDeleteTagAttrs("src","width","height","pluginspage","classid","codebase","name","tabindex","hspace","vspace","border","align","noexternaldata","class","title","accesskey");for(r in gTagAttrs)e=gTagAttrs[r],null!=e&&(i+=_QTAddEmbedAttr(r),n+=_QTAddObjectParam(r,t));return n+i+"> </embed>\n</object>"}function QT_GenerateOBJECTText(){return _QTGenerate("QT_GenerateOBJECTText",!1,arguments)}var extensions={flash:["swf"],image:["bmp","gif","jpeg","jpg","png","tiff","tif","jfif","jpe"],iframe:["asp","aspx","cgi","cfm","htm","html","jsp","php","pl","php3","php4","php5","phtml","rb","rhtml","shtml","txt"],video:["avi","mov","mpg","mpeg","movie","mp4","webm","ogv","ogg","3gp","m4v"]},$win=$(window),$doc=$(document),browser,transform,gpuAcceleration,fullScreenApi="",supportTouch=!!("ontouchstart"in window)&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),clickEvent=supportTouch?"itap.iLightBox":"click.iLightBox",touchStartEvent=supportTouch?"touchstart.iLightBox":"mousedown.iLightBox",touchStopEvent=supportTouch?"touchend.iLightBox":"mouseup.iLightBox",touchMoveEvent=supportTouch?"touchmove.iLightBox":"mousemove.iLightBox",abs=Math.abs,sqrt=Math.sqrt,round=Math.round,max=Math.max,min=Math.min,floor=Math.floor,random=Math.random,pluginspages={quicktime:"http://www.apple.com/quicktime/download",flash:"http://www.adobe.com/go/getflash"},iLightBox=function(e,t,n,r){var i=this;i.options=t,i.selector=e.selector||e,i.context=e.context,i.instant=r;if(n.length<1)i.attachItems();else i.items=n;i.vars={total:i.items.length,start:0,current:null,next:null,prev:null,BODY:$("body"),loadRequests:0,overlay:$('<div class="ilightbox-overlay"></div>'),loader:$('<div class="ilightbox-loader"><div></div></div>'),toolbar:$('<div class="ilightbox-toolbar"></div>'),innerToolbar:$('<div class="ilightbox-inner-toolbar"></div>'),title:$('<div class="ilightbox-title"></div>'),closeButton:$('<a class="ilightbox-close" title="'+i.options.text.close+'"></a>'),fullScreenButton:$('<a class="ilightbox-fullscreen" title="'+i.options.text.enterFullscreen+'"></a>'),innerPlayButton:$('<a class="ilightbox-play" title="'+i.options.text.slideShow+'"></a>'),innerNextButton:$('<a class="ilightbox-next-button" title="'+i.options.text.next+'"></a>'),innerPrevButton:$('<a class="ilightbox-prev-button" title="'+i.options.text.previous+'"></a>'),holder:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+'" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),nextPhoto:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+' ilightbox-next" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),prevPhoto:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+' ilightbox-prev" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),nextButton:$('<a class="ilightbox-button ilightbox-next-button" ondragstart="return false;" title="'+i.options.text.next+'"><span></span></a>'),prevButton:$('<a class="ilightbox-button ilightbox-prev-button" ondragstart="return false;" title="'+i.options.text.previous+'"><span></span></a>'),thumbnails:$('<div class="ilightbox-thumbnails" ondragstart="return false;"><div class="ilightbox-thumbnails-container"><a class="ilightbox-thumbnails-dragger"></a><div class="ilightbox-thumbnails-grid"></div></div></div>'),thumbs:false,nextLock:false,prevLock:false,hashLock:false,isMobile:false,mobileMaxWidth:980,isInFullScreen:false,isSwipe:false,mouseID:0,cycleID:0,isPaused:0};i.vars.hideableElements=i.vars.nextButton.add(i.vars.prevButton);i.normalizeItems();i.availPlugins();i.options.startFrom=i.options.startFrom>0&&i.options.startFrom>=i.vars.total?i.vars.total-1:i.options.startFrom;i.options.startFrom=i.options.randomStart?floor(random()*i.vars.total):i.options.startFrom;i.vars.start=i.options.startFrom;if(r)i.instantCall();else i.patchItemsEvents();if(i.options.linkId){i.hashChangeHandler();$win.iLightBoxHashChange(function(){i.hashChangeHandler()})}if(supportTouch){var s=/(click|mouseenter|mouseleave|mouseover|mouseout)/ig,o="itap";i.options.caption.show=i.options.caption.show.replace(s,o),i.options.caption.hide=i.options.caption.hide.replace(s,o),i.options.social.show=i.options.social.show.replace(s,o),i.options.social.hide=i.options.social.hide.replace(s,o)}if(i.options.controls.arrows){$.extend(i.options.styles,{nextOffsetX:0,prevOffsetX:0,nextOpacity:0,prevOpacity:0})}};iLightBox.prototype={showLoader:function(){var e=this;e.vars.loadRequests+=1;if(e.options.path.toLowerCase()=="horizontal")e.vars.loader.stop().animate({top:"-30px"},e.options.show.speed,"easeOutCirc");else e.vars.loader.stop().animate({left:"-30px"},e.options.show.speed,"easeOutCirc")},hideLoader:function(){var e=this;e.vars.loadRequests-=1;e.vars.loadRequests=e.vars.loadRequests<0?0:e.vars.loadRequests;if(e.options.path.toLowerCase()=="horizontal"){if(e.vars.loadRequests<=0)e.vars.loader.stop().animate({top:"-192px"},e.options.show.speed,"easeInCirc")}else{if(e.vars.loadRequests<=0)e.vars.loader.stop().animate({left:"-192px"},e.options.show.speed,"easeInCirc")}},createUI:function(){var e=this;e.ui={currentElement:e.vars.holder,nextElement:e.vars.nextPhoto,prevElement:e.vars.prevPhoto,currentItem:e.vars.current,nextItem:e.vars.next,prevItem:e.vars.prev,hide:function(){e.closeAction()},refresh:function(){arguments.length>0?e.repositionPhoto(true):e.repositionPhoto()},fullscreen:function(){e.fullScreenAction()}}},attachItems:function(){var iL=this,itemsObject=new Array,items=new Array;$(iL.selector,iL.context).each(function(){var t=$(this),URL=t.attr(iL.options.attr)||null,options=t.data("options")&&eval("({"+t.data("options")+"})")||{},caption=t.data("caption"),title=t.data("title"),type=t.data("type")||getTypeByExtension(URL);items.push({URL:URL,caption:caption,title:title,type:type,options:options});if(!iL.instant)itemsObject.push(t)});iL.items=items,iL.itemsObject=itemsObject},normalizeItems:function(){var e=this,t=new Array;$.each(e.items,function(n,r){if(typeof r=="string")r={url:r};var i=r.url||r.URL||null,s=r.options||{},o=r.caption||null,u=r.title||null,a=r.type?r.type.toLowerCase():getTypeByExtension(i),f=typeof i!="object"?getExtension(i):"";s.thumbnail=s.thumbnail||(a=="image"?i:null),s.videoType=s.videoType||null,s.skin=s.skin||e.options.skin,s.width=s.width||null,s.height=s.height||null,s.mousewheel=typeof s.mousewheel!="undefined"?s.mousewheel:true,s.swipe=typeof s.swipe!="undefined"?s.swipe:true,s.social=typeof s.social!="undefined"?s.social:e.options.social.buttons&&$.extend({},{},e.options.social.buttons);if(a=="video"){s.html5video=typeof s.html5video!="undefined"?s.html5video:{};s.html5video.webm=s.html5video.webm||s.html5video.WEBM||null;s.html5video.controls=typeof s.html5video.controls!="undefined"?s.html5video.controls:"controls";s.html5video.preload=s.html5video.preload||"metadata";s.html5video.autoplay=typeof s.html5video.autoplay!="undefined"?s.html5video.autoplay:false}if(!s.width||!s.height){if(a=="video")s.width=1280,s.height=720;else if(a=="iframe")s.width="100%",s.height="90%";else if(a=="flash")s.width=1280,s.height=720}delete r.url;r.index=n;r.URL=i;r.caption=o;r.title=u;r.type=a;r.options=s;r.ext=f;t.push(r)});e.items=t},instantCall:function(){var e=this,t=e.vars.start;e.vars.current=t;e.vars.next=e.items[t+1]?t+1:null;e.vars.prev=e.items[t-1]?t-1:null;e.addContents();e.patchEvents()},addContents:function(){var e=this,t=e.vars,n=e.options,r=getViewport(),i=n.path.toLowerCase(),s=t.total>0&&e.items.filter(function(e,t,r){return["image","flash","video"].indexOf(e.type)===-1&&typeof e.recognized==="undefined"&&(n.smartRecognition||e.options.smartRecognition)}),o=s.length>0;if(n.mobileOptimizer&&!n.innerToolbar)t.isMobile=r.width<=t.mobileMaxWidth;t.overlay.addClass(n.skin).hide().css("opacity",n.overlay.opacity);if(n.linkId)t.overlay[0].setAttribute("linkid",n.linkId);if(n.controls.toolbar){t.toolbar.addClass(n.skin).append(t.closeButton);if(n.controls.fullscreen)t.toolbar.append(t.fullScreenButton);if(n.controls.slideshow)t.toolbar.append(t.innerPlayButton);if(t.total>1)t.toolbar.append(t.innerPrevButton).append(t.innerNextButton)}t.BODY.addClass("ilightbox-noscroll").append(t.overlay).append(t.loader).append(t.holder).append(t.nextPhoto).append(t.prevPhoto);if(!n.innerToolbar)t.BODY.append(t.toolbar);if(n.controls.arrows)t.BODY.append(t.nextButton).append(t.prevButton);if(n.controls.thumbnail&&t.total>1){t.BODY.append(t.thumbnails);t.thumbnails.addClass(n.skin).addClass("ilightbox-"+i);$("div.ilightbox-thumbnails-grid",t.thumbnails).empty();t.thumbs=true}var u=n.path.toLowerCase()=="horizontal"?{left:parseInt(r.width/2-t.loader.outerWidth()/2)}:{top:parseInt(r.height/2-t.loader.outerHeight()/2)};t.loader.addClass(n.skin).css(u);t.nextButton.add(t.prevButton).addClass(n.skin);if(i=="horizontal")t.loader.add(t.nextButton).add(t.prevButton).addClass("horizontal");t.BODY[t.isMobile?"addClass":"removeClass"]("isMobile");if(!n.infinite){t.prevButton.add(t.prevButton).add(t.innerPrevButton).add(t.innerNextButton).removeClass("disabled");if(t.current==0)t.prevButton.add(t.innerPrevButton).addClass("disabled");if(t.current>=t.total-1)t.nextButton.add(t.innerNextButton).addClass("disabled")}if(n.show.effect){t.overlay.stop().fadeIn(n.show.speed);t.toolbar.stop().fadeIn(n.show.speed)}else{t.overlay.show();t.toolbar.show()}var a=s.length;if(o){e.showLoader();$.each(s,function(r,i){var s=function(r){var i=-1,s=e.items.filter(function(e,t,n){if(e.URL==r.url)i=t;return e.URL==r.url}),o=e.items[i];if(r)$.extend(true,o,{URL:r.source,type:r.type,recognized:true,options:{html5video:r.html5video,width:r.type=="image"?0:r.width||o.width,height:r.type=="image"?0:r.height||o.height,thumbnail:o.options.thumbnail||r.thumbnail}});a--;if(a==0){e.hideLoader();t.dontGenerateThumbs=false;e.generateThumbnails();if(n.show.effect)setTimeout(function(){e.generateBoxes()},n.show.speed);else e.generateBoxes()}};e.ogpRecognition(this,s)})}else{if(n.show.effect)setTimeout(function(){e.generateBoxes()},n.show.speed);else e.generateBoxes()}e.createUI();window.iLightBox={close:function(){e.closeAction()},fullscreen:function(){e.fullScreenAction()},moveNext:function(){e.moveTo("next")},movePrev:function(){e.moveTo("prev")},goTo:function(t){e.goTo(t)},refresh:function(){e.refresh()},reposition:function(){arguments.length>0?e.repositionPhoto(true):e.repositionPhoto()},setOption:function(t){e.setOption(t)},destroy:function(){e.closeAction();e.dispatchItemsEvents()}};if(n.linkId){t.hashLock=true;window.location.hash=n.linkId+"/"+t.current;setTimeout(function(){t.hashLock=false},55)}if(!n.slideshow.startPaused){e.resume();t.innerPlayButton.removeClass("ilightbox-play").addClass("ilightbox-pause")}if(typeof e.options.callback.onOpen=="function")e.options.callback.onOpen.call(e)},loadContent:function(e,t,n){var r=this,i,s;r.createUI();e.speed=n||r.options.effects.loadedFadeSpeed;if(t=="current"){if(!e.options.mousewheel)r.vars.lockWheel=true;else r.vars.lockWheel=false;if(!e.options.swipe)r.vars.lockSwipe=true;else r.vars.lockSwipe=false}switch(t){case"current":i=r.vars.holder,s=r.vars.current;break;case"next":i=r.vars.nextPhoto,s=r.vars.next;break;case"prev":i=r.vars.prevPhoto,s=r.vars.prev;break}i.removeAttr("style class").addClass("ilightbox-holder"+(supportTouch?" supportTouch":"")).addClass(e.options.skin);$("div.ilightbox-inner-toolbar",i).remove();if(e.title||r.options.innerToolbar){var o=r.vars.innerToolbar.clone();if(e.title&&r.options.show.title){var u=r.vars.title.clone();u.empty().html(e.title);o.append(u)}if(r.options.innerToolbar){o.append(r.vars.total>1?r.vars.toolbar.clone():r.vars.toolbar)}i.prepend(o)}r.loadSwitcher(e,i,s,t)},loadSwitcher:function(e,t,n,r){var i=this,s=i.options,o={element:t,position:n};switch(e.type){case"image":if(typeof s.callback.onBeforeLoad=="function")s.callback.onBeforeLoad.call(i,i.ui,n);if(typeof e.options.onBeforeLoad=="function")e.options.onBeforeLoad.call(i,o);i.loadImage(e.URL,function(u){if(typeof s.callback.onAfterLoad=="function")s.callback.onAfterLoad.call(i,i.ui,n);if(typeof e.options.onAfterLoad=="function")e.options.onAfterLoad.call(i,o);var a=u?u.width:400,f=u?u.height:200;t.data({naturalWidth:a,naturalHeight:f});$("div.ilightbox-container",t).empty().append(u?'<img src="'+e.URL+'" class="ilightbox-image" />':'<span class="ilightbox-alert">'+s.errors.loadImage+"</span>");if(typeof s.callback.onRender=="function")s.callback.onRender.call(i,i.ui,n);if(typeof e.options.onRender=="function")e.options.onRender.call(i,o);i.configureHolder(e,r,t)});break;case"video":t.data({naturalWidth:e.options.width,naturalHeight:e.options.height});i.addContent(t,e);if(typeof s.callback.onRender=="function")s.callback.onRender.call(i,i.ui,n);if(typeof e.options.onRender=="function")e.options.onRender.call(i,o);i.configureHolder(e,r,t);break;case"iframe":i.showLoader();t.data({naturalWidth:e.options.width,naturalHeight:e.options.height});var u=i.addContent(t,e);if(typeof s.callback.onRender=="function")s.callback.onRender.call(i,i.ui,n);if(typeof e.options.onRender=="function")e.options.onRender.call(i,o);if(typeof s.callback.onBeforeLoad=="function")s.callback.onBeforeLoad.call(i,i.ui,n);if(typeof e.options.onBeforeLoad=="function")e.options.onBeforeLoad.call(i,o);u.bind("load",function(){if(typeof s.callback.onAfterLoad=="function")s.callback.onAfterLoad.call(i,i.ui,n);if(typeof e.options.onAfterLoad=="function")e.options.onAfterLoad.call(i,o);i.hideLoader();i.configureHolder(e,r,t);u.unbind("load")});break;case"inline":var u=$(e.URL),a=i.addContent(t,e),f=findImageInElement(t);t.data({naturalWidth:i.items[n].options.width||u.outerWidth(),naturalHeight:i.items[n].options.height||u.outerHeight()});a.children().eq(0).show();if(typeof s.callback.onRender=="function")s.callback.onRender.call(i,i.ui,n);if(typeof e.options.onRender=="function")e.options.onRender.call(i,o);if(typeof s.callback.onBeforeLoad=="function")s.callback.onBeforeLoad.call(i,i.ui,n);if(typeof e.options.onBeforeLoad=="function")e.options.onBeforeLoad.call(i,o);i.loadImage(f,function(){if(typeof s.callback.onAfterLoad=="function")s.callback.onAfterLoad.call(i,i.ui,n);if(typeof e.options.onAfterLoad=="function")e.options.onAfterLoad.call(i,o);i.configureHolder(e,r,t)});break;case"flash":var u=i.addContent(t,e);t.data({naturalWidth:i.items[n].options.width||u.outerWidth(),naturalHeight:i.items[n].options.height||u.outerHeight()});if(typeof s.callback.onRender=="function")s.callback.onRender.call(i,i.ui,n);if(typeof e.options.onRender=="function")e.options.onRender.call(i,o);i.configureHolder(e,r,t);break;case"ajax":var l=e.options.ajax||{};if(typeof s.callback.onBeforeLoad=="function")s.callback.onBeforeLoad.call(i,i.ui,n);if(typeof e.options.onBeforeLoad=="function")e.options.onBeforeLoad.call(i,o);i.showLoader();$.ajax({url:e.URL||s.ajaxSetup.url,data:l.data||null,dataType:l.dataType||"html",type:l.type||s.ajaxSetup.type,cache:l.cache||s.ajaxSetup.cache,crossDomain:l.crossDomain||s.ajaxSetup.crossDomain,global:l.global||s.ajaxSetup.global,ifModified:l.ifModified||s.ajaxSetup.ifModified,username:l.username||s.ajaxSetup.username,password:l.password||s.ajaxSetup.password,beforeSend:l.beforeSend||s.ajaxSetup.beforeSend,complete:l.complete||s.ajaxSetup.complete,success:function(u,a,f){i.hideLoader();var c=$(u),h=$("div.ilightbox-container",t),p=i.items[n].options.width||parseInt(c[0].getAttribute("width")),d=i.items[n].options.height||parseInt(c[0].getAttribute("height")),v=c[0].getAttribute("width")&&c[0].getAttribute("height")?{overflow:"hidden"}:{};h.empty().append($('<div class="ilightbox-wrapper"></div>').css(v).html(c));t.show().data({naturalWidth:p||h.outerWidth(),naturalHeight:d||h.outerHeight()}).hide();if(typeof s.callback.onRender=="function")s.callback.onRender.call(i,i.ui,n);if(typeof e.options.onRender=="function")e.options.onRender.call(i,o);var m=findImageInElement(t);i.loadImage(m,function(){if(typeof s.callback.onAfterLoad=="function")s.callback.onAfterLoad.call(i,i.ui,n);if(typeof e.options.onAfterLoad=="function")e.options.onAfterLoad.call(i,o);i.configureHolder(e,r,t)});s.ajaxSetup.success(u,a,f);if(typeof l.success=="function")l.success(u,a,f)},error:function(u,a,f){if(typeof s.callback.onAfterLoad=="function")s.callback.onAfterLoad.call(i,i.ui,n);if(typeof e.options.onAfterLoad=="function")e.options.onAfterLoad.call(i,o);i.hideLoader();$("div.ilightbox-container",t).empty().append('<span class="ilightbox-alert">'+s.errors.loadContents+"</span>");i.configureHolder(e,r,t);s.ajaxSetup.error(u,a,f);if(typeof l.error=="function")l.error(u,a,f)}});break;case"html":var c=e.URL,u;container=$("div.ilightbox-container",t);if(c[0].nodeName)u=c.clone();else{var h=$(c);if(h.selector)u=$("<div>"+h+"</div>");else u=h}var p=i.items[n].options.width||parseInt(u.attr("width")),d=i.items[n].options.height||parseInt(u.attr("height"));i.addContent(t,e);u.appendTo(document.documentElement).hide();if(typeof s.callback.onRender=="function")s.callback.onRender.call(i,i.ui,n);if(typeof e.options.onRender=="function")e.options.onRender.call(i,o);var f=findImageInElement(t);if(typeof s.callback.onBeforeLoad=="function")s.callback.onBeforeLoad.call(i,i.ui,n);if(typeof e.options.onBeforeLoad=="function")e.options.onBeforeLoad.call(i,o);i.loadImage(f,function(){if(typeof s.callback.onAfterLoad=="function")s.callback.onAfterLoad.call(i,i.ui,n);if(typeof e.options.onAfterLoad=="function")e.options.onAfterLoad.call(i,o);t.show().data({naturalWidth:p||container.outerWidth(),naturalHeight:d||container.outerHeight()}).hide();u.remove();i.configureHolder(e,r,t)});break}},configureHolder:function(e,t,n){var r=this,i=r.vars,s=r.options;if(t!="current")t=="next"?n.addClass("ilightbox-next"):n.addClass("ilightbox-prev");if(t=="current")var o=i.current;else if(t=="next")var u=s.styles.nextOpacity,o=i.next;else var u=s.styles.prevOpacity,o=i.prev;var a={element:n,position:o};r.items[o].options.width=r.items[o].options.width||0,r.items[o].options.height=r.items[o].options.height||0;if(t=="current"){if(s.show.effect)n.css(transform,gpuAcceleration).fadeIn(e.speed,function(){n.css(transform,"");if(e.caption){r.setCaption(e,n);var t=$("div.ilightbox-caption",n),i=parseInt(t.outerHeight()/n.outerHeight()*100);if(s.caption.start&i<=50)t.fadeIn(s.effects.fadeSpeed)}var u=e.options.social;if(u){r.setSocial(u,e.URL,n);if(s.social.start)$("div.ilightbox-social",n).fadeIn(s.effects.fadeSpeed)}r.generateThumbnails();if(typeof s.callback.onShow=="function")s.callback.onShow.call(r,r.ui,o);if(typeof e.options.onShow=="function")e.options.onShow.call(r,a)});else{n.show();r.generateThumbnails();if(typeof s.callback.onShow=="function")s.callback.onShow.call(r,r.ui,o);if(typeof e.options.onShow=="function")e.options.onShow.call(r,a)}}else{if(s.show.effect)n.fadeTo(e.speed,u,function(){if(t=="next")i.nextLock=false;else i.prevLock=false;r.generateThumbnails();if(typeof s.callback.onShow=="function")s.callback.onShow.call(r,r.ui,o);if(typeof e.options.onShow=="function")e.options.onShow.call(r,a)});else{n.css({opacity:u}).show();if(t=="next")i.nextLock=false;else i.prevLock=false;r.generateThumbnails();if(typeof s.callback.onShow=="function")s.callback.onShow.call(r,r.ui,o);if(typeof e.options.onShow=="function")e.options.onShow.call(r,a)}}setTimeout(function(){r.repositionPhoto()},0)},generateBoxes:function(){var e=this,t=e.vars,n=e.options;if(n.infinite&&t.total>=3){if(t.current==t.total-1)t.next=0;if(t.current==0)t.prev=t.total-1}else n.infinite=false;e.loadContent(e.items[t.current],"current",n.show.speed);if(e.items[t.next])e.loadContent(e.items[t.next],"next",n.show.speed);if(e.items[t.prev])e.loadContent(e.items[t.prev],"prev",n.show.speed)},generateThumbnails:function(){var e=this,t=e.vars,n=e.options,r=null;if(t.thumbs&&!e.vars.dontGenerateThumbs){var i=t.thumbnails,s=$("div.ilightbox-thumbnails-container",i),o=$("div.ilightbox-thumbnails-grid",s),u=0;o.removeAttr("style").empty();$.each(e.items,function(a,f){var l=t.current==a?"ilightbox-active":"",c=t.current==a?n.thumbnails.activeOpacity:n.thumbnails.normalOpacity,h=f.options.thumbnail,p=$('<div class="ilightbox-thumbnail"></div>'),d=$('<div class="ilightbox-thumbnail-icon"></div>');p.css({opacity:0}).addClass(l);if((f.type=="video"||f.type=="flash")&&typeof f.options.icon=="undefined"){d.addClass("ilightbox-thumbnail-video");p.append(d)}else if(f.options.icon){d.addClass("ilightbox-thumbnail-"+f.options.icon);p.append(d)}if(h)e.loadImage(h,function(t){u++;if(t)p.data({naturalWidth:t.width,naturalHeight:t.height}).append('<img src="'+h+'" border="0" />');else p.data({naturalWidth:n.thumbnails.maxWidth,naturalHeight:n.thumbnails.maxHeight});clearTimeout(r);r=setTimeout(function(){e.positionThumbnails(i,s,o)},20);setTimeout(function(){p.fadeTo(n.effects.loadedFadeSpeed,c)},u*20)});o.append(p)});e.vars.dontGenerateThumbs=true}},positionThumbnails:function(e,t,n){var r=this,i=r.vars,s=r.options,o=getViewport(),u=s.path.toLowerCase();if(!e)e=i.thumbnails;if(!t)t=$("div.ilightbox-thumbnails-container",e);if(!n)n=$("div.ilightbox-thumbnails-grid",t);var a=$(".ilightbox-thumbnail",n),f=u=="horizontal"?o.width-s.styles.pageOffsetX:a.eq(0).outerWidth()-s.styles.pageOffsetX,l=u=="horizontal"?a.eq(0).outerHeight()-s.styles.pageOffsetY:o.height-s.styles.pageOffsetY,c=u=="horizontal"?0:f,h=u=="horizontal"?l:0,p=$(".ilightbox-active",n),d={},v={};if(arguments.length<3){a.css({opacity:s.thumbnails.normalOpacity});p.css({opacity:s.thumbnails.activeOpacity})}a.each(function(e){var t=$(this),n=t.data(),i=u=="horizontal"?0:s.thumbnails.maxWidth;height=u=="horizontal"?s.thumbnails.maxHeight:0;dims=r.getNewDimenstions(i,height,n.naturalWidth,n.naturalHeight,true);t.css({width:dims.width,height:dims.height});if(u=="horizontal")t.css({"float":"left"});u=="horizontal"?c+=t.outerWidth():h+=t.outerHeight()});d={width:c,height:h};n.css(d);d={};var m=n.offset(),g=p.length?p.offset():{top:parseInt(l/2),left:parseInt(f/2)};m.top=m.top-$doc.scrollTop(),m.left=m.left-$doc.scrollLeft(),g.top=g.top-m.top-$doc.scrollTop(),g.left=g.left-m.left-$doc.scrollLeft();u=="horizontal"?(d.top=0,d.left=parseInt(f/2-g.left-p.outerWidth()/2)):(d.top=parseInt(l/2-g.top-p.outerHeight()/2),d.left=0);if(arguments.length<3)n.stop().animate(d,s.effects.repositionSpeed,"easeOutCirc");else n.css(d)},loadImage:function(e,t){if(!$.isArray(e))e=[e];var n=this,r=e.length;if(r>0){n.showLoader();$.each(e,function(i,s){var o=new Image;o.onload=function(){r-=1;if(r==0){n.hideLoader();t(o)}};o.onerror=o.onabort=function(){r-=1;if(r==0){n.hideLoader();t(false)}};o.src=e[i]})}else t(false)},patchItemsEvents:function(){var e=this,t=e.vars,n=supportTouch?"itap.iL":"click.iL",r=supportTouch?"click.iL":"itap.iL";if(e.context&&e.selector){var i=$(e.selector,e.context);$(e.context).on(n,e.selector,function(){var n=$(this),r=i.index(n);t.current=r;t.next=e.items[r+1]?r+1:null;t.prev=e.items[r-1]?r-1:null;e.addContents();e.patchEvents();return false}).on(r,e.selector,function(){return false})}else $.each(e.itemsObject,function(i,s){s.on(n,function(){t.current=i;t.next=e.items[i+1]?i+1:null;t.prev=e.items[i-1]?i-1:null;e.addContents();e.patchEvents();return false}).on(r,function(){return false})})},dispatchItemsEvents:function(){var e=this,t=e.vars,n=e.options;if(e.context&&e.selector)$(e.context).off(".iL",e.selector);else $.each(e.itemsObject,function(e,t){t.off(".iL")})},refresh:function(){var e=this;e.dispatchItemsEvents();e.attachItems();e.normalizeItems();e.patchItemsEvents()},patchEvents:function(){function c(e){if(!t.isMobile){if(!t.mouseID){t.hideableElements.show()}t.mouseID=clearTimeout(t.mouseID);if(a.indexOf(e.target)===-1)t.mouseID=setTimeout(function(){t.hideableElements.hide();t.mouseID=clearTimeout(t.mouseID)},3e3)}}var e=this,t=e.vars,n=e.options,r=n.path.toLowerCase(),i=$(".ilightbox-holder"),s=fullScreenApi.fullScreenEventName+".iLightBox",o=1e3,u=verticalDistanceThreshold=100,a=[t.nextButton[0],t.prevButton[0],t.nextButton[0].firstChild,t.prevButton[0].firstChild];$win.bind("resize.iLightBox",function(){var r=getViewport();if(n.mobileOptimizer&&!n.innerToolbar)t.isMobile=r.width<=t.mobileMaxWidth;t.BODY[t.isMobile?"addClass":"removeClass"]("isMobile");e.repositionPhoto(null);if(supportTouch){clearTimeout(t.setTime);t.setTime=setTimeout(function(){var e=getScrollXY().y;window.scrollTo(0,e-30);window.scrollTo(0,e+30);window.scrollTo(0,e)},2e3)}if(t.thumbs)e.positionThumbnails()}).bind("keydown.iLightBox",function(r){if(n.controls.keyboard){switch(r.keyCode){case 13:if(r.shiftKey&&n.keyboard.shift_enter)e.fullScreenAction();break;case 27:if(n.keyboard.esc)e.closeAction();break;case 37:if(n.keyboard.left&&!t.lockKey)e.moveTo("prev");break;case 38:if(n.keyboard.up&&!t.lockKey)e.moveTo("prev");break;case 39:if(n.keyboard.right&&!t.lockKey)e.moveTo("next");break;case 40:if(n.keyboard.down&&!t.lockKey)e.moveTo("next");break}}});if(fullScreenApi.supportsFullScreen)$win.bind(s,function(){e.doFullscreen()});var f=[n.caption.show+".iLightBox",n.caption.hide+".iLightBox",n.social.show+".iLightBox",n.social.hide+".iLightBox"].filter(function(e,t,n){return n.lastIndexOf(e)===t}),l="";$.each(f,function(e,t){if(e!=0)l+=" ";l+=t});$doc.on(clickEvent,".ilightbox-overlay",function(){if(n.overlay.blur)e.closeAction()}).on(clickEvent,".ilightbox-next, .ilightbox-next-button",function(){e.moveTo("next")}).on(clickEvent,".ilightbox-prev, .ilightbox-prev-button",function(){e.moveTo("prev")}).on(clickEvent,".ilightbox-thumbnail",function(){var n=$(this),r=$(".ilightbox-thumbnail",t.thumbnails),i=r.index(n);if(i!=t.current)e.goTo(i)}).on(l,".ilightbox-holder:not(.ilightbox-next, .ilightbox-prev)",function(e){var r=$("div.ilightbox-caption",t.holder),i=$("div.ilightbox-social",t.holder),s=n.effects.fadeSpeed;if(t.nextLock||t.prevLock){if(e.type==n.caption.show&&!r.is(":visible"))r.fadeIn(s);else if(e.type==n.caption.hide&&r.is(":visible"))r.fadeOut(s);if(e.type==n.social.show&&!i.is(":visible"))i.fadeIn(s);else if(e.type==n.social.hide&&i.is(":visible"))i.fadeOut(s)}else{if(e.type==n.caption.show&&!r.is(":visible"))r.stop().fadeIn(s);else if(e.type==n.caption.hide&&r.is(":visible"))r.stop().fadeOut(s);if(e.type==n.social.show&&!i.is(":visible"))i.stop().fadeIn(s);else if(e.type==n.social.hide&&i.is(":visible"))i.stop().fadeOut(s)}}).on("mouseenter.iLightBox mouseleave.iLightBox",".ilightbox-wrapper",function(e){if(e.type=="mouseenter")t.lockWheel=true;else t.lockWheel=false}).on(clickEvent,".ilightbox-toolbar a.ilightbox-close, .ilightbox-toolbar a.ilightbox-fullscreen, .ilightbox-toolbar a.ilightbox-play, .ilightbox-toolbar a.ilightbox-pause",function(){var t=$(this);if(t.hasClass("ilightbox-fullscreen"))e.fullScreenAction();else if(t.hasClass("ilightbox-play")){e.resume();t.addClass("ilightbox-pause").removeClass("ilightbox-play")}else if(t.hasClass("ilightbox-pause")){e.pause();t.addClass("ilightbox-play").removeClass("ilightbox-pause")}else e.closeAction()}).on(touchMoveEvent,".ilightbox-overlay, .ilightbox-thumbnails-container",function(e){e.preventDefault()});if(n.controls.arrows&&!supportTouch)$doc.on("mousemove.iLightBox",c);if(n.controls.slideshow&&n.slideshow.pauseOnHover)$doc.on("mouseenter.iLightBox mouseleave.iLightBox",".ilightbox-holder:not(.ilightbox-next, .ilightbox-prev)",function(n){if(n.type=="mouseenter"&&t.cycleID)e.pause();else if(n.type=="mouseleave"&&t.isPaused)e.resume()});var h=$(".ilightbox-overlay, .ilightbox-holder, .ilightbox-thumbnails");if(n.controls.mousewheel)h.on("mousewheel.iLightBox",function(n,r){if(!t.lockWheel){n.preventDefault();if(r<0)e.moveTo("next");else if(r>0)e.moveTo("prev")}});if(n.controls.swipe)i.on(touchStartEvent,function(s){function v(e){var t=$(this),n=h[e],i=[p.coords[0]-d.coords[0],p.coords[1]-d.coords[1]];t[0].style[r=="horizontal"?"left":"top"]=(r=="horizontal"?n.left-i[0]:n.top-i[1])+"px"}function m(e){if(!p)return;var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;d={time:(new Date).getTime(),coords:[t.pageX-l,t.pageY-f]};i.each(v);e.preventDefault()}function g(){i.each(function(){var e=$(this),t=e.data("offset")||{top:e.offset().top-f,left:e.offset().left-l},n=t.top,r=t.left;e.css(transform,gpuAcceleration).stop().animate({top:n,left:r},500,"easeOutCirc",function(){e.css(transform,"")})})}if(t.nextLock||t.prevLock||t.total==1||t.lockSwipe)return;t.BODY.addClass("ilightbox-closedhand");var a=s.originalEvent.touches?s.originalEvent.touches[0]:s,f=$doc.scrollTop(),l=$doc.scrollLeft(),c=[i.eq(0).offset(),i.eq(1).offset(),i.eq(2).offset()],h=[{top:c[0].top-f,left:c[0].left-l},{top:c[1].top-f,left:c[1].left-l},{top:c[2].top-f,left:c[2].left-l}],p={time:(new Date).getTime(),coords:[a.pageX-l,a.pageY-f]},d;i.bind(touchMoveEvent,m);$doc.one(touchStopEvent,function(s){i.unbind(touchMoveEvent,m);t.BODY.removeClass("ilightbox-closedhand");if(p&&d){if(r=="horizontal"&&d.time-p.time<o&&abs(p.coords[0]-d.coords[0])>u&&abs(p.coords[1]-d.coords[1])<verticalDistanceThreshold){if(p.coords[0]>d.coords[0]){if(t.current==t.total-1&&!n.infinite)g();else{t.isSwipe=true;e.moveTo("next")}}else{if(t.current==0&&!n.infinite)g();else{t.isSwipe=true;e.moveTo("prev")}}}else if(r=="vertical"&&d.time-p.time<o&&abs(p.coords[1]-d.coords[1])>u&&abs(p.coords[0]-d.coords[0])<verticalDistanceThreshold){if(p.coords[1]>d.coords[1]){if(t.current==t.total-1&&!n.infinite)g();else{t.isSwipe=true;e.moveTo("next")}}else{if(t.current==0&&!n.infinite)g();else{t.isSwipe=true;e.moveTo("prev")}}}else g()}p=d=undefined})})},goTo:function(e){var t=this,n=t.vars,r=t.options,i=e-n.current;if(r.infinite){if(e==n.total-1&&n.current==0)i=-1;if(n.current==n.total-1&&e==0)i=1}if(i==1)t.moveTo("next");else if(i==-1)t.moveTo("prev");else{if(n.nextLock||n.prevLock)return false;if(typeof r.callback.onBeforeChange=="function")r.callback.onBeforeChange.call(t,t.ui);if(r.linkId){n.hashLock=true;window.location.hash=r.linkId+"/"+e}if(t.items[e]){if(!t.items[e].options.mousewheel)n.lockWheel=true;else t.vars.lockWheel=false;if(!t.items[e].options.swipe)n.lockSwipe=true;else n.lockSwipe=false}$.each([n.holder,n.nextPhoto,n.prevPhoto],function(e,t){t.css(transform,gpuAcceleration).fadeOut(r.effects.loadedFadeSpeed)});n.current=e;n.next=e+1;n.prev=e-1;t.createUI();setTimeout(function(){t.generateBoxes()},r.effects.loadedFadeSpeed+50);$(".ilightbox-thumbnail",n.thumbnails).removeClass("ilightbox-active").eq(e).addClass("ilightbox-active");t.positionThumbnails();if(r.linkId)setTimeout(function(){n.hashLock=false},55);if(!r.infinite){n.nextButton.add(n.prevButton).add(n.innerPrevButton).add(n.innerNextButton).removeClass("disabled");if(n.current==0){n.prevButton.add(n.innerPrevButton).addClass("disabled")}if(n.current>=n.total-1){n.nextButton.add(n.innerNextButton).addClass("disabled")}}t.resetCycle();if(typeof r.callback.onAfterChange=="function")r.callback.onAfterChange.call(t,t.ui)}},moveTo:function(e){var t=this,n=t.vars,r=t.options,i=r.path.toLowerCase(),s=getViewport(),o=r.effects.switchSpeed;if(n.nextLock||n.prevLock)return false;else{var u=e=="next"?n.next:n.prev;if(r.linkId){n.hashLock=true;window.location.hash=r.linkId+"/"+u}if(e=="next"){if(!t.items[u])return false;var a=n.nextPhoto,f=n.holder,l=n.prevPhoto,c="ilightbox-prev",h="ilightbox-next"}else if(e=="prev"){if(!t.items[u])return false;var a=n.prevPhoto,f=n.holder,l=n.nextPhoto,c="ilightbox-next",h="ilightbox-prev"}if(typeof r.callback.onBeforeChange=="function")r.callback.onBeforeChange.call(t,t.ui);e=="next"?n.nextLock=true:n.prevLock=true;var p=$("div.ilightbox-caption",f),d=$("div.ilightbox-social",f);if(p.length)p.stop().fadeOut(o,function(){$(this).remove()});if(d.length)d.stop().fadeOut(o,function(){$(this).remove()});if(t.items[u].caption){t.setCaption(t.items[u],a);var v=$("div.ilightbox-caption",a),m=parseInt(v.outerHeight()/a.outerHeight()*100);if(r.caption.start&&m<=50)v.fadeIn(o)}var g=t.items[u].options.social;if(g){t.setSocial(g,t.items[u].URL,a);if(r.social.start)$("div.ilightbox-social",a).fadeIn(r.effects.fadeSpeed)}$.each([a,f,l],function(e,t){t.removeClass("ilightbox-next ilightbox-prev")});var y=a.data("offset"),b=s.width-r.styles.pageOffsetX,w=s.height-r.styles.pageOffsetY,E=y.newDims.width,S=y.newDims.height,x=y.thumbsOffset,T=y.diff,N=parseInt(w/2-S/2-T.H-x.H/2),C=parseInt(b/2-E/2-T.W-x.W/2);a.css(transform,gpuAcceleration).animate({top:N,left:C,opacity:1},o,n.isSwipe?"easeOutCirc":"easeInOutCirc",function(){a.css(transform,"")});$("div.ilightbox-container",a).animate({width:E,height:S},o,n.isSwipe?"easeOutCirc":"easeInOutCirc");var k=f.data("offset"),L=k.object;T=k.diff;E=k.newDims.width,S=k.newDims.height;E=parseInt(E*r.styles[e=="next"?"prevScale":"nextScale"]),S=parseInt(S*r.styles[e=="next"?"prevScale":"nextScale"]),N=i=="horizontal"?parseInt(w/2-L.offsetY-S/2-T.H-x.H/2):parseInt(w-L.offsetX-T.H-x.H/2);if(e=="prev")C=i=="horizontal"?parseInt(b-L.offsetX-T.W-x.W/2):parseInt(b/2-E/2-T.W-L.offsetY-x.W/2);else{N=i=="horizontal"?N:parseInt(L.offsetX-T.H-S-x.H/2),C=i=="horizontal"?parseInt(L.offsetX-T.W-E-x.W/2):parseInt(b/2-L.offsetY-E/2-T.W-x.W/2)}$("div.ilightbox-container",f).animate({width:E,height:S},o,n.isSwipe?"easeOutCirc":"easeInOutCirc");f.addClass(c).css(transform,gpuAcceleration).animate({top:N,left:C,opacity:r.styles.prevOpacity},o,n.isSwipe?"easeOutCirc":"easeInOutCirc",function(){f.css(transform,"");$(".ilightbox-thumbnail",n.thumbnails).removeClass("ilightbox-active").eq(u).addClass("ilightbox-active");t.positionThumbnails();if(t.items[u]){if(!t.items[u].options.mousewheel)n.lockWheel=true;else n.lockWheel=false;if(!t.items[u].options.swipe)n.lockSwipe=true;else n.lockSwipe=false}n.isSwipe=false;if(e=="next"){n.nextPhoto=l,n.prevPhoto=f,n.holder=a;n.nextPhoto.hide();n.next=n.next+1,n.prev=n.current,n.current=n.current+1;if(r.infinite){if(n.current>n.total-1)n.current=0;if(n.current==n.total-1)n.next=0;if(n.current==0)n.prev=n.total-1}t.createUI();if(!t.items[n.next])n.nextLock=false;else t.loadContent(t.items[n.next],"next")}else{n.prevPhoto=l;n.nextPhoto=f;n.holder=a;n.prevPhoto.hide();n.next=n.current;n.current=n.prev;n.prev=n.current-1;if(r.infinite){if(n.current==n.total-1)n.next=0;if(n.current==0)n.prev=n.total-1}t.createUI();if(!t.items[n.prev])n.prevLock=false;else t.loadContent(t.items[n.prev],"prev")}if(r.linkId)setTimeout(function(){n.hashLock=false},55);if(!r.infinite){n.nextButton.add(n.prevButton).add(n.innerPrevButton).add(n.innerNextButton).removeClass("disabled");if(n.current==0)n.prevButton.add(n.innerPrevButton).addClass("disabled");if(n.current>=n.total-1)n.nextButton.add(n.innerNextButton).addClass("disabled")}t.repositionPhoto();t.resetCycle();if(typeof r.callback.onAfterChange=="function")r.callback.onAfterChange.call(t,t.ui)});N=i=="horizontal"?getPixel(l,"top"):e=="next"?parseInt(-(w/2)-l.outerHeight()):parseInt(N*2),C=i=="horizontal"?e=="next"?parseInt(-(b/2)-l.outerWidth()):parseInt(C*2):getPixel(l,"left");l.css(transform,gpuAcceleration).animate({top:N,left:C,opacity:r.styles.nextOpacity},o,n.isSwipe?"easeOutCirc":"easeInOutCirc",function(){l.css(transform,"")}).addClass(h)}},setCaption:function(e,t){var n=this,r=$('<div class="ilightbox-caption"></div>');if(e.caption){r.html(e.caption);$("div.ilightbox-container",t).append(r)}},normalizeSocial:function(e,t){var n=this,r=n.vars,i=n.options,s=window.location.href;$.each(e,function(n,r){if(!r)return true;var o=n.toLowerCase(),u,a;switch(o){case"facebook":u="http://www.facebook.com/share.php?v=4&src=bm&u={URL}",a="Share on Facebook";break;case"twitter":u="http://twitter.com/home?status={URL}",a="Share on Twitter";break;case"googleplus":u="https://plus.google.com/share?url={URL}",a="Share on Google+";break;case"delicious":u="http://delicious.com/post?url={URL}",a="Share on Delicious";break;case"digg":u="http://digg.com/submit?phase=2&url={URL}",a="Share on Digg";break;case"reddit":u="http://reddit.com/submit?url={URL}",a="Share on reddit";break}e[n]={URL:r.URL&&absolutizeURI(s,r.URL)||i.linkId&&window.location.href||typeof t!=="string"&&s||t&&absolutizeURI(s,t)||s,source:r.source||u||r.URL&&absolutizeURI(s,r.URL)||t&&absolutizeURI(s,t),text:r.text||a||"Share on "+n,width:typeof r.width!="undefined"&&!isNaN(r.width)?parseInt(r.width):640,height:r.height||360}});return e},setSocial:function(e,t,n){var r=this,i=$('<div class="ilightbox-social"></div>'),s="<ul>";e=r.normalizeSocial(e,t);$.each(e,function(e,t){var n=e.toLowerCase(),r=t.source.replace(/\{URL\}/g,encodeURIComponent(t.URL).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+"));s+='<li class="'+e+'"><a href="'+r+'" onclick="javascript:window.open(this.href'+(t.width<=0||t.height<=0?"":", '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height="+t.height+",width="+t.width+",left=40,top=40'")+');return false;" title="'+t.text+'" target="_blank"></a></li>'});s+="</ul>";i.html(s);$("div.ilightbox-container",n).append(i)},fullScreenAction:function(){var e=this,t=e.vars;if(fullScreenApi.supportsFullScreen){if(fullScreenApi.isFullScreen())fullScreenApi.cancelFullScreen(document.documentElement);else fullScreenApi.requestFullScreen(document.documentElement)}else{e.doFullscreen()}},doFullscreen:function(){var e=this,t=e.vars,n=getViewport(),r=e.options;if(r.fullAlone){var i=t.holder,s=e.items[t.current],o=n.width,u=n.height,a=[i,t.nextPhoto,t.prevPhoto,t.nextButton,t.prevButton,t.overlay,t.toolbar,t.thumbnails,t.loader],f=[t.nextPhoto,t.prevPhoto,t.nextButton,t.prevButton,t.loader,t.thumbnails];if(!t.isInFullScreen){t.isInFullScreen=t.lockKey=t.lockWheel=t.lockSwipe=true;t.overlay.css({opacity:1});$.each(f,function(e,t){t.hide()});t.fullScreenButton.attr("title",r.text.exitFullscreen);if(r.fullStretchTypes.indexOf(s.type)!=-1)i.data({naturalWidthOld:i.data("naturalWidth"),naturalHeightOld:i.data("naturalHeight"),naturalWidth:o,naturalHeight:u});else{var n=s.options.fullViewPort||r.fullViewPort||"",l=o,c=u,h=i.data("naturalWidth"),p=i.data("naturalHeight");if(n.toLowerCase()=="fill"){c=l/h*p;if(c<u){l=u/p*h,c=u}}else if(n.toLowerCase()=="fit"){var d=e.getNewDimenstions(l,c,h,p,true);l=d.width,c=d.height}else if(n.toLowerCase()=="stretch"){l=l,c=c}else{var v=h>l||p>c?true:false,d=e.getNewDimenstions(l,c,h,p,v);l=d.width,c=d.height}i.data({naturalWidthOld:i.data("naturalWidth"),naturalHeightOld:i.data("naturalHeight"),naturalWidth:l,naturalHeight:c})}$.each(a,function(e,t){t.addClass("ilightbox-fullscreen")});if(typeof r.callback.onEnterFullScreen=="function")r.callback.onEnterFullScreen.call(e,e.ui)}else{t.isInFullScreen=t.lockKey=t.lockWheel=t.lockSwipe=false;t.overlay.css({opacity:e.options.overlay.opacity});$.each(f,function(e,t){t.show()});t.fullScreenButton.attr("title",r.text.enterFullscreen);i.data({naturalWidth:i.data("naturalWidthOld"),naturalHeight:i.data("naturalHeightOld"),naturalWidthOld:null,naturalHeightOld:null});$.each(a,function(e,t){t.removeClass("ilightbox-fullscreen")});if(typeof r.callback.onExitFullScreen=="function")r.callback.onExitFullScreen.call(e,e.ui)}}else{if(!t.isInFullScreen)t.isInFullScreen=true;else t.isInFullScreen=false}e.repositionPhoto(true)},closeAction:function(){var e=this,t=e.vars,n=e.options;$win.unbind(".iLightBox");$doc.off(".iLightBox");if(t.isInFullScreen)fullScreenApi.cancelFullScreen(document.documentElement);$(".ilightbox-overlay, .ilightbox-holder, .ilightbox-thumbnails").off(".iLightBox");if(n.hide.effect)t.overlay.stop().fadeOut(n.hide.speed,function(){t.overlay.remove();t.BODY.removeClass("ilightbox-noscroll").off(".iLightBox")});else{t.overlay.remove();t.BODY.removeClass("ilightbox-noscroll").off(".iLightBox")}var r=[t.toolbar,t.holder,t.nextPhoto,t.prevPhoto,t.nextButton,t.prevButton,t.loader,t.thumbnails];$.each(r,function(e,t){t.removeAttr("style").remove()});t.dontGenerateThumbs=t.isInFullScreen=false;window.iLightBox=null;if(n.linkId){t.hashLock=true;removeHash();setTimeout(function(){t.hashLock=false},55)}if(typeof n.callback.onHide=="function")n.callback.onHide.call(e,e.ui)},repositionPhoto:function(){var e=this,t=e.vars,n=e.options,r=n.path.toLowerCase(),i=getViewport(),s=i.width,o=i.height;var u=t.isInFullScreen&&n.fullAlone||t.isMobile?0:r=="horizontal"?0:t.thumbnails.outerWidth(),a=t.isMobile?t.toolbar.outerHeight():t.isInFullScreen&&n.fullAlone?0:r=="horizontal"?t.thumbnails.outerHeight():0,f=t.isInFullScreen&&n.fullAlone?s:s-n.styles.pageOffsetX,l=t.isInFullScreen&&n.fullAlone?o:o-n.styles.pageOffsetY,c=r=="horizontal"?parseInt(e.items[t.next]||e.items[t.prev]?(n.styles.nextOffsetX+n.styles.prevOffsetX)*2:f/10<=30?30:f/10):parseInt(f/10<=30?30:f/10)+u,h=r=="horizontal"?parseInt(l/10<=30?30:l/10)+a:parseInt(e.items[t.next]||e.items[t.prev]?(n.styles.nextOffsetX+n.styles.prevOffsetX)*2:l/10<=30?30:l/10);var p={type:"current",width:f,height:l,item:e.items[t.current],offsetW:c,offsetH:h,thumbsOffsetW:u,thumbsOffsetH:a,animate:arguments.length,holder:t.holder};e.repositionEl(p);if(e.items[t.next]){p=$.extend(p,{type:"next",item:e.items[t.next],offsetX:n.styles.nextOffsetX,offsetY:n.styles.nextOffsetY,holder:t.nextPhoto});e.repositionEl(p)}if(e.items[t.prev]){p=$.extend(p,{type:"prev",item:e.items[t.prev],offsetX:n.styles.prevOffsetX,offsetY:n.styles.prevOffsetY,holder:t.prevPhoto});e.repositionEl(p)}var d=r=="horizontal"?{left:parseInt(f/2-t.loader.outerWidth()/2)}:{top:parseInt(l/2-t.loader.outerHeight()/2)};t.loader.css(d)},repositionEl:function(e){var t=this,n=t.vars,r=t.options,i=r.path.toLowerCase(),s=e.type=="current"?n.isInFullScreen&&r.fullAlone?e.width:e.width-e.offsetW:e.width-e.offsetW,o=e.type=="current"?n.isInFullScreen&&r.fullAlone?e.height:e.height-e.offsetH:e.height-e.offsetH,u=e.item,a=e.item.options,f=e.holder,l=e.offsetX||0,c=e.offsetY||0,h=e.thumbsOffsetW,p=e.thumbsOffsetH;if(e.type=="current"){if(typeof a.width=="number"&&a.width)s=n.isInFullScreen&&r.fullAlone&&(r.fullStretchTypes.indexOf(u.type)!=-1||a.fullViewPort||r.fullViewPort)?s:a.width>s?s:a.width;if(typeof a.height=="number"&&a.height)o=n.isInFullScreen&&r.fullAlone&&(r.fullStretchTypes.indexOf(u.type)!=-1||a.fullViewPort||r.fullViewPort)?o:a.height>o?o:a.height}else{if(typeof a.width=="number"&&a.width)s=a.width>s?s:a.width;if(typeof a.height=="number"&&a.height)o=a.height>o?o:a.height}o=parseInt(o-$(".ilightbox-inner-toolbar",f).outerHeight());var d=typeof a.width=="string"&&a.width.indexOf("%")!=-1?percentToValue(parseInt(a.width.replace("%","")),e.width):f.data("naturalWidth"),v=typeof a.height=="string"&&a.height.indexOf("%")!=-1?percentToValue(parseInt(a.height.replace("%","")),e.height):f.data("naturalHeight");var m=typeof a.width=="string"&&a.width.indexOf("%")!=-1||typeof a.height=="string"&&a.height.indexOf("%")!=-1?{width:d,height:v}:t.getNewDimenstions(s,o,d,v),g=$.extend({},m,{});if(e.type=="prev"||e.type=="next")d=parseInt(m.width*(e.type=="next"?r.styles.nextScale:r.styles.prevScale)),v=parseInt(m.height*(e.type=="next"?r.styles.nextScale:r.styles.prevScale));else d=m.width,v=m.height;var y=parseInt((getPixel(f,"padding-left")+getPixel(f,"padding-right")+getPixel(f,"border-left-width")+getPixel(f,"border-right-width"))/2),b=parseInt((getPixel(f,"padding-top")+getPixel(f,"padding-bottom")+getPixel(f,"border-top-width")+getPixel(f,"border-bottom-width")+$(".ilightbox-inner-toolbar",f).outerHeight())/2);switch(e.type){case"current":var w=parseInt(e.height/2-v/2-b-p/2),E=parseInt(e.width/2-d/2-y-h/2);break;case"next":var w=i=="horizontal"?parseInt(e.height/2-c-v/2-b-p/2):parseInt(e.height-l-b-p/2),E=i=="horizontal"?parseInt(e.width-l-y-h/2):parseInt(e.width/2-d/2-y-c-h/2);break;case"prev":var w=i=="horizontal"?parseInt(e.height/2-c-v/2-b-p/2):parseInt(l-b-v-p/2),E=i=="horizontal"?parseInt(l-y-d-h/2):parseInt(e.width/2-c-d/2-y-h/2);break}f.data("offset",{top:w,left:E,newDims:g,diff:{W:y,H:b},thumbsOffset:{W:h,H:p},object:e});if(e.animate>0&&r.effects.reposition){f.css(transform,gpuAcceleration).stop().animate({top:w,left:E},r.effects.repositionSpeed,"easeOutCirc",function(){f.css(transform,"")});$("div.ilightbox-container",f).stop().animate({width:d,height:v},r.effects.repositionSpeed,"easeOutCirc");$("div.ilightbox-inner-toolbar",f).stop().animate({width:d},r.effects.repositionSpeed,"easeOutCirc",function(){$(this).css("overflow","visible")})}else{f.css({top:w,left:E});$("div.ilightbox-container",f).css({width:d,height:v});$("div.ilightbox-inner-toolbar",f).css({width:d})}},resume:function(e){var t=this,n=t.vars,r=t.options;if(!r.slideshow.pauseTime||r.controls.slideshow&&n.total<=1||e<n.isPaused){return}n.isPaused=0;if(n.cycleID){n.cycleID=clearTimeout(n.cycleID)}n.cycleID=setTimeout(function(){if(n.current==n.total-1)t.goTo(0);else t.moveTo("next")},r.slideshow.pauseTime)},pause:function(e){var t=this,n=t.vars,r=t.options;if(e<n.isPaused){return}n.isPaused=e||100;if(n.cycleID){n.cycleID=clearTimeout(n.cycleID)}},resetCycle:function(){var e=this,t=e.vars,n=e.options;if(n.controls.slideshow&&t.cycleID&&!t.isPaused){e.resume()}},getNewDimenstions:function(e,t,n,r,i){var s=this;if(!e)factor=t/r;else if(!t)factor=e/n;else factor=min(e/n,t/r);if(!i){if(factor>s.options.maxScale)factor=s.options.maxScale;else if(factor<s.options.minScale)factor=s.options.minScale}var o=s.options.keepAspectRatio?round(n*factor):e,u=s.options.keepAspectRatio?round(r*factor):t;return{width:o,height:u,ratio:factor}},setOption:function(e){var t=this;t.options=$.extend(true,t.options,e||{});t.refresh()},availPlugins:function(){var e=this,t=document.createElement("video");e.plugins={flash:parseInt(PluginDetect.getVersion("Shockwave"))>=0||parseInt(PluginDetect.getVersion("Flash"))>=0?true:false,quicktime:parseInt(PluginDetect.getVersion("QuickTime"))>=0?true:false,html5H264:!!(t.canPlayType&&t.canPlayType("video/mp4").replace(/no/,"")),html5WebM:!!(t.canPlayType&&t.canPlayType("video/webm").replace(/no/,"")),html5Vorbis:!!(t.canPlayType&&t.canPlayType("video/ogg").replace(/no/,"")),html5QuickTime:!!(t.canPlayType&&t.canPlayType("video/quicktime").replace(/no/,""))}},addContent:function(e,t){var n=this,r;switch(t.type){case"video":var i=false,s=t.videoType,o=t.options.html5video;if((s=="video/mp4"||t.ext=="mp4"||t.ext=="m4v"||o.h264)&&n.plugins.html5H264)t.ext="mp4",t.URL=o.h264||t.URL;else if(o.webm&&n.plugins.html5WebM)t.ext="webm",t.URL=o.webm||t.URL;else if(o.ogg&&n.plugins.html5Vorbis)t.ext="ogv",t.URL=o.ogg||t.URL;if(n.plugins.html5H264&&(s=="video/mp4"||t.ext=="mp4"||t.ext=="m4v"))i=true,s="video/mp4";else if(n.plugins.html5WebM&&(s=="video/webm"||t.ext=="webm"))i=true,s="video/webm";else if(n.plugins.html5Vorbis&&(s=="video/ogg"||t.ext=="ogv"))i=true,s="video/ogg";else if(n.plugins.html5QuickTime&&(s=="video/quicktime"||t.ext=="mov"||t.ext=="qt"))i=true,s="video/quicktime";if(i){r=$("<video />",{width:"100%",height:"100%",preload:o.preload,autoplay:o.autoplay,poster:o.poster,controls:o.controls}).append($("<source />",{src:t.URL,type:s}))}else{if(!n.plugins.quicktime)r=$("<span />",{"class":"ilightbox-alert",html:n.options.errors.missingPlugin.replace("{pluginspage}",pluginspages.quicktime).replace("{type}","QuickTime")});else{r=$("<object />",{type:"video/quicktime",pluginspage:pluginspages.quicktime}).attr({data:t.URL,width:"100%",height:"100%"}).append($("<param />",{name:"src",value:t.URL})).append($("<param />",{name:"autoplay",value:"false"})).append($("<param />",{name:"loop",value:"false"})).append($("<param />",{name:"scale",value:"tofit"}));if(browser.msie)r=QT_GenerateOBJECTText(t.URL,"100%","100%","","SCALE","tofit","AUTOPLAY","false","LOOP","false")}}break;case"flash":if(!n.plugins.flash)r=$("<span />",{"class":"ilightbox-alert",html:n.options.errors.missingPlugin.replace("{pluginspage}",pluginspages.flash).replace("{type}","Adobe Flash player")});else{var u="",a=0;if(t.options.flashvars)$.each(t.options.flashvars,function(e,t){if(a!=0)u+="&";u+=e+"="+encodeURIComponent(t);a++});else u=null;r=$("<embed />").attr({type:"application/x-shockwave-flash",src:t.URL,width:typeof t.options.width=="number"&&t.options.width&&n.options.minScale=="1"&&n.options.maxScale=="1"?t.options.width:"100%",height:typeof t.options.height=="number"&&t.options.height&&n.options.minScale=="1"&&n.options.maxScale=="1"?t.options.height:"100%",quality:"high",bgcolor:"#000000",play:"true",loop:"true",menu:"true",wmode:"transparent",scale:"showall",allowScriptAccess:"always",allowFullScreen:"true",flashvars:u,fullscreen:"yes"})}break;case"iframe":r=$("<iframe />").attr({width:typeof t.options.width=="number"&&t.options.width&&n.options.minScale=="1"&&n.options.maxScale=="1"?t.options.width:"100%",height:typeof t.options.height=="number"&&t.options.height&&n.options.minScale=="1"&&n.options.maxScale=="1"?t.options.height:"100%",src:t.URL,frameborder:0,hspace:0,vspace:0,scrolling:supportTouch?"auto":"scroll",webkitAllowFullScreen:"",mozallowfullscreen:"",allowFullScreen:""});break;case"inline":r=$('<div class="ilightbox-wrapper"></div>').html($(t.URL).clone(true));break;case"html":var f=t.URL,r;if(f[0].nodeName){r=$('<div class="ilightbox-wrapper"></div>').html(f)}else{var l=$(t.URL),c=l.selector?$("<div>"+l+"</div>"):l;r=$('<div class="ilightbox-wrapper"></div>').html(c)}break}$("div.ilightbox-container",e).empty().html(r);if(r[0].tagName.toLowerCase()==="video"&&browser.webkit)setTimeout(function(){var e=r[0].currentSrc+"?"+floor(random()*3e4);r[0].currentSrc=e;r[0].src=e});return r},ogpRecognition:function(e,t){var n=this,r=e.URL;n.showLoader();doAjax(r,function(e){n.hideLoader();if(e){var r=new Object;r.length=false,r.url=e.url;if(e.status==200){var i=e.results,s=i.type,o=i.source;r.source=o.src,r.width=o.width&&parseInt(o.width)||0,r.height=o.height&&parseInt(o.height)||0,r.type=s,r.thumbnail=o.thumbnail||i.images[0],r.html5video=i.html5video||{},r.length=true;if(o.type=="application/x-shockwave-flash")r.type="flash";else if(o.type.indexOf("video/")!=-1)r.type="video";else if(o.type.indexOf("/html")!=-1)r.type="iframe";else if(o.type.indexOf("image/")!=-1)r.type="image"}else if(typeof e.response!="undefined")throw e.response;t.call(this,r.length?r:false)}})},hashChangeHandler:function(e){var t=this,n=t.vars,r=t.options,i=e||window.location.href,s=parseURI(i).hash,o=s.split("/"),u=o[1];if(n.hashLock||"#"+r.linkId!=o[0]&&s.length>1)return;if(u){var a=o[1]||0;if(t.items[a]){var f=$(".ilightbox-overlay");if(f.length&&f.attr("linkid")==r.linkId){t.goTo(a)}else{t.itemsObject[a].trigger(supportTouch?"itap":"click")}}else{var f=$(".ilightbox-overlay");if(f.length)t.closeAction()}}else{var f=$(".ilightbox-overlay");if(f.length)t.closeAction()}}};$.fn.iLightBox=function(){var e=arguments,t=$.isPlainObject(e[0])?e[0]:e[1],n=$.isArray(e[0])||typeof e[0]=="string"?e[0]:e[1];if(!t)t={};var r=$.extend(true,{attr:"href",path:"vertical",skin:"dark",linkId:false,infinite:false,startFrom:0,randomStart:false,keepAspectRatio:true,maxScale:1,minScale:.2,innerToolbar:false,smartRecognition:false,mobileOptimizer:true,fullAlone:true,fullViewPort:null,fullStretchTypes:"flash, video",overlay:{blur:true,opacity:.85},controls:{arrows:false,slideshow:false,toolbar:true,fullscreen:true,thumbnail:true,keyboard:true,mousewheel:true,swipe:true},keyboard:{left:true,right:true,up:true,down:true,esc:true,shift_enter:true},show:{effect:true,speed:300,title:true},hide:{effect:true,speed:300},caption:{start:true,show:"mouseenter",hide:"mouseleave"},social:{start:true,show:"mouseenter",hide:"mouseleave",buttons:false},styles:{pageOffsetX:0,pageOffsetY:0,nextOffsetX:45,nextOffsetY:0,nextOpacity:1,nextScale:1,prevOffsetX:45,prevOffsetY:0,prevOpacity:1,prevScale:1},thumbnails:{maxWidth:120,maxHeight:80,normalOpacity:1,activeOpacity:.6},effects:{reposition:true,repositionSpeed:200,switchSpeed:500,loadedFadeSpeed:180,fadeSpeed:200},slideshow:{pauseTime:5e3,pauseOnHover:false,startPaused:true},text:{close:"Press Esc to close",enterFullscreen:"Enter Fullscreen (Shift+Enter)",exitFullscreen:"Exit Fullscreen (Shift+Enter)",slideShow:"Slideshow",next:"Next",previous:"Previous"},errors:{loadImage:"An error occurred when trying to load photo.",loadContents:"An error occurred when trying to load contents.",missingPlugin:"The content your are attempting to view requires the <a href='{pluginspage}' target='_blank'>{type} plugin</a>."},ajaxSetup:{url:"",beforeSend:function(e,t){},cache:false,complete:function(e,t){},crossDomain:false,error:function(e,t,n){},success:function(e,t,n){},global:true,ifModified:false,username:null,password:null,type:"GET"},callback:{}},t);var i=$.isArray(n)||typeof n=="string"?true:false;n=$.isArray(n)?n:new Array;if(typeof e[0]=="string")n[0]=e[0];if(version_compare($.fn.jquery,"1.8",">=")){var s=new iLightBox($(this),r,n,i);return{close:function(){s.closeAction()},fullscreen:function(){s.fullScreenAction()},moveNext:function(){s.moveTo("next")},movePrev:function(){s.moveTo("prev")},goTo:function(e){s.goTo(e)},refresh:function(){s.refresh()},reposition:function(){arguments.length>0?s.repositionPhoto(true):s.repositionPhoto()},setOption:function(e){s.setOption(e)},destroy:function(){s.closeAction();s.dispatchItemsEvents()}}}else{throw"The jQuery version that was loaded is too old. iLightBox requires jQuery 1.8+"}};$.iLightBox=function(){return $.fn.iLightBox(arguments[0],arguments[1])};$.extend($.easing,{easeInCirc:function(e,t,n,r,i){return-r*(sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(sqrt(1-t*t)-1)+n;return r/2*(sqrt(1-(t-=2)*t)+1)+n}});(function(){$.each(("touchstart touchmove touchend "+"tap taphold "+"swipe swipeleft swiperight "+"scrollstart scrollstop").split(" "),function(e,t){$.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)};if($.attrFn){$.attrFn[t]=true}});var e={startEvent:"touchstart.iTap",endEvent:"touchend.iTap"};$.event.special.itap={setup:function(){var t=this,n=$(this),r,i;n.bind(e.startEvent,function(s){r=getScrollXY();n.one(e.endEvent,function(e){i=getScrollXY();var n=e||window.event;e=$.event.fix(n);e.type="itap";if(r&&i&&r.x==i.x&&r.y==i.y)($.event.dispatch||$.event.handle).call(t,e);r=i=undefined})})},teardown:function(){$(this).unbind(e.startEvent)}}})();(function(){fullScreenApi={supportsFullScreen:false,isFullScreen:function(){return false},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},browserPrefixes="webkit moz o ms khtml".split(" ");if(typeof document.cancelFullScreen!="undefined"){fullScreenApi.supportsFullScreen=true}else{for(var e=0,t=browserPrefixes.length;e<t;e++){fullScreenApi.prefix=browserPrefixes[e];if(typeof document[fullScreenApi.prefix+"CancelFullScreen"]!="undefined"){fullScreenApi.supportsFullScreen=true;break}}}if(fullScreenApi.supportsFullScreen){fullScreenApi.fullScreenEventName=fullScreenApi.prefix+"fullscreenchange";fullScreenApi.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}};fullScreenApi.requestFullScreen=function(e){return this.prefix===""?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()};fullScreenApi.cancelFullScreen=function(e){return this.prefix===""?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}}})();(function(){function e(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}var t=e(navigator.userAgent);browser={};if(t.browser){browser[t.browser]=true;browser.version=t.version}if(browser.chrome){browser.webkit=true}else if(browser.webkit){browser.safari=true}})();(function(){function n(n){for(var r=0,i=e.length;r<i;r++){var s=e[r]?e[r]+n.charAt(0).toUpperCase()+n.slice(1):n;if(t.style[s]!==undefined){return s}}}var e=["","webkit","moz","ms","o"];var t=document.createElement("div");transform=n("transform")||"";gpuAcceleration=n("perspective")?"translateZ(0) ":""})();var PluginDetect={version:"0.7.9",name:"PluginDetect",handler:function(e,t,n){return function(){e(t,n)}},openTag:"<",isDefined:function(e){return typeof e!="undefined"},isArray:function(e){return/array/i.test(Object.prototype.toString.call(e))},isFunc:function(e){return typeof e=="function"},isString:function(e){return typeof e=="string"},isNum:function(e){return typeof e=="number"},isStrNum:function(e){return typeof e=="string"&&/\d/.test(e)},getNumRegx:/[\d][\d\.\_,-]*/,splitNumRegx:/[\.\_,-]/g,getNum:function(e,t){var n=this,r=n.isStrNum(e)?(n.isDefined(t)?new RegExp(t):n.getNumRegx).exec(e):null;return r?r[0]:null},compareNums:function(e,t,n){var r=this,i,s,o,u=parseInt;if(r.isStrNum(e)&&r.isStrNum(t)){if(r.isDefined(n)&&n.compareNums){return n.compareNums(e,t)}i=e.split(r.splitNumRegx);s=t.split(r.splitNumRegx);for(o=0;o<min(i.length,s.length);o++){if(u(i[o],10)>u(s[o],10)){return 1}if(u(i[o],10)<u(s[o],10)){return-1}}}return 0},formatNum:function(e,t){var n=this,r,i;if(!n.isStrNum(e)){return null}if(!n.isNum(t)){t=4}t--;i=e.replace(/\s/g,"").split(n.splitNumRegx).concat(["0","0","0","0"]);for(r=0;r<4;r++){if(/^(0+)(.+)$/.test(i[r])){i[r]=RegExp.$2}if(r>t||!/\d/.test(i[r])){i[r]="0"}}return i.slice(0,4).join(",")},$$hasMimeType:function(e){return function(t){if(!e.isIE&&t){var n,r,i,s=e.isArray(t)?t:e.isString(t)?[t]:[];for(i=0;i<s.length;i++){if(e.isString(s[i])&&/[^\s]/.test(s[i])){n=navigator.mimeTypes[s[i]];r=n?n.enabledPlugin:0;if(r&&(r.name||r.description)){return n}}}}return null}},findNavPlugin:function(e,t,n){var r=this,i=new RegExp(e,"i"),s=!r.isDefined(t)||t?/\d/:0,o=n?new RegExp(n,"i"):0,u=navigator.plugins,a="",f,l,c;for(f=0;f<u.length;f++){c=u[f].description||a;l=u[f].name||a;if(i.test(c)&&(!s||s.test(RegExp.leftContext+RegExp.rightContext))||i.test(l)&&(!s||s.test(RegExp.leftContext+RegExp.rightContext))){if(!o||!(o.test(c)||o.test(l))){return u[f]}}}return null},getMimeEnabledPlugin:function(e,t,n){var r=this,i,s=new RegExp(t,"i"),o="",u=n?new RegExp(n,"i"):0,a,f,l,c=r.isString(e)?[e]:e;for(l=0;l<c.length;l++){if((i=r.hasMimeType(c[l]))&&(i=i.enabledPlugin)){f=i.description||o;a=i.name||o;if(s.test(f)||s.test(a)){if(!u||!(u.test(f)||u.test(a))){return i}}}}return 0},getPluginFileVersion:function(e,t){var n=this,r,i,s,o,u=-1;if(n.OS>2||!e||!e.version||!(r=n.getNum(e.version))){return t}if(!t){return r}r=n.formatNum(r);t=n.formatNum(t);i=t.split(n.splitNumRegx);s=r.split(n.splitNumRegx);for(o=0;o<i.length;o++){if(u>-1&&o>u&&i[o]!="0"){return t}if(s[o]!=i[o]){if(u==-1){u=o}if(i[o]!="0"){return t}}}return r},AXO:window.ActiveXObject,getAXO:function(e){var t=null,n,r=this,i={};try{t=new r.AXO(e)}catch(n){}return t},convertFuncs:function(e){var t,n,r,i=/^[\$][\$]/,s=this;for(t in e){if(i.test(t)){try{n=t.slice(2);if(n.length>0&&!e[n]){e[n]=e[t](e);delete e[t]}}catch(r){}}}},initObj:function(e,t,n){var r,i;if(e){if(e[t[0]]==1||n){for(r=0;r<t.length;r=r+2){e[t[r]]=t[r+1]}}for(r in e){i=e[r];if(i&&i[t[0]]==1){this.initObj(i,t)}}}},initScript:function(){var e=this,t=navigator,n,r=document,i=t.userAgent||"",s=t.vendor||"",o=t.platform||"",u=t.product||"";e.initObj(e,["$",e]);for(n in e.Plugins){if(e.Plugins[n]){e.initObj(e.Plugins[n],["$",e,"$$",e.Plugins[n]],1)}}e.convertFuncs(e);e.OS=100;if(o){var a=["Win",1,"Mac",2,"Linux",3,"FreeBSD",4,"iPhone",21.1,"iPod",21.2,"iPad",21.3,"Win.*CE",22.1,"Win.*Mobile",22.2,"Pocket\\s*PC",22.3,"",100];for(n=a.length-2;n>=0;n=n-2){if(a[n]&&(new RegExp(a[n],"i")).test(o)){e.OS=a[n+1];break}}}e.head=r.getElementsByTagName("head")[0]||r.getElementsByTagName("body")[0]||r.body||null;e.isIE=(new Function("return/*@cc_on!@*/!1"))();e.verIE=e.isIE&&/MSIE\s*(\d+\.?\d*)/i.test(i)?parseFloat(RegExp.$1,10):null;e.verIEfull=null;e.docModeIE=null;if(e.isIE){var f,l,c=document.createElement("div");try{c.style.behavior="url(#default#clientcaps)";e.verIEfull=c.getComponentVersion("{89820200-ECBD-11CF-8B85-00AA005B4383}","componentid").replace(/,/g,".")}catch(f){}l=parseFloat(e.verIEfull||"0",10);e.docModeIE=r.documentMode||(/back/i.test(r.compatMode||"")?5:l)||e.verIE;e.verIE=l||e.docModeIE}e.ActiveXEnabled=false;if(e.isIE){var n,h=["Msxml2.XMLHTTP","Msxml2.DOMDocument","Microsoft.XMLDOM","ShockwaveFlash.ShockwaveFlash","TDCCtl.TDCCtl","Shell.UIHelper","Scripting.Dictionary","wmplayer.ocx"];for(n=0;n<h.length;n++){if(e.getAXO(h[n])){e.ActiveXEnabled=true;break}}}e.isGecko=/Gecko/i.test(u)&&/Gecko\s*\/\s*\d/i.test(i);e.verGecko=e.isGecko?e.formatNum(/rv\s*\:\s*([\.\,\d]+)/i.test(i)?RegExp.$1:"0.9"):null;e.isChrome=/Chrome\s*\/\s*(\d[\d\.]*)/i.test(i);e.verChrome=e.isChrome?e.formatNum(RegExp.$1):null;e.isSafari=(/Apple/i.test(s)||!s&&!e.isChrome)&&/Safari\s*\/\s*(\d[\d\.]*)/i.test(i);e.verSafari=e.isSafari&&/Version\s*\/\s*(\d[\d\.]*)/i.test(i)?e.formatNum(RegExp.$1):null;e.isOpera=/Opera\s*[\/]?\s*(\d+\.?\d*)/i.test(i);e.verOpera=e.isOpera&&(/Version\s*\/\s*(\d+\.?\d*)/i.test(i)||1)?parseFloat(RegExp.$1,10):null;e.addWinEvent("load",e.handler(e.runWLfuncs,e))},init:function(e){var t=this,n,e,r={status:-3,plugin:0};if(!t.isString(e)){return r}if(e.length==1){t.getVersionDelimiter=e;return r}e=e.toLowerCase().replace(/\s/g,"");n=t.Plugins[e];if(!n||!n.getVersion){return r}r.plugin=n;if(!t.isDefined(n.installed)){n.installed=null;n.version=null;n.version0=null;n.getVersionDone=null;n.pluginName=e}t.garbage=false;if(t.isIE&&!t.ActiveXEnabled&&e!=="java"){r.status=-2;return r}r.status=1;return r},fPush:function(e,t){var n=this;if(n.isArray(t)&&(n.isFunc(e)||n.isArray(e)&&e.length>0&&n.isFunc(e[0]))){t.push(e)}},callArray:function(e){var t=this,n;if(t.isArray(e)){for(n=0;n<e.length;n++){if(e[n]===null){return}t.call(e[n]);e[n]=null}}},call:function(e){var t=this,n=t.isArray(e)?e.length:-1;if(n>0&&t.isFunc(e[0])){e[0](t,n>1?e[1]:0,n>2?e[2]:0,n>3?e[3]:0)}else{if(t.isFunc(e)){e(t)}}},getVersionDelimiter:",",$$getVersion:function(e){return function(t,n,r){var i=e.init(t),s,o,u={};if(i.status<0){return null}s=i.plugin;if(s.getVersionDone!=1){s.getVersion(null,n,r);if(s.getVersionDone===null){s.getVersionDone=1}}e.cleanup();o=s.version||s.version0;o=o?o.replace(e.splitNumRegx,e.getVersionDelimiter):o;return o}},cleanup:function(){var e=this;if(e.garbage&&e.isDefined(window.CollectGarbage)){window.CollectGarbage()}},isActiveXObject:function(e,t){var n=this,r=false,i,s='<object width="1" height="1" style="display:none" '+e.getCodeBaseVersion(t)+">"+e.HTML+n.openTag+"/object>";if(!n.head){return r}n.head.insertBefore(document.createElement("object"),n.head.firstChild);n.head.firstChild.outerHTML=s;try{n.head.firstChild.classid=e.classID}catch(i){}try{if(n.head.firstChild.object){r=true}}catch(i){}try{if(r&&n.head.firstChild.readyState<4){n.garbage=true}}catch(i){}n.head.removeChild(n.head.firstChild);return r},codebaseSearch:function(e,t){var n=this;if(!n.ActiveXEnabled||!e){return null}if(e.BIfuncs&&e.BIfuncs.length&&e.BIfuncs[e.BIfuncs.length-1]!==null){n.callArray(e.BIfuncs)}var r,i=e.SEARCH,s={};if(n.isStrNum(t)){if(i.match&&i.min&&n.compareNums(t,i.min)<=0){return true}if(i.match&&i.max&&n.compareNums(t,i.max)>=0){return false}r=n.isActiveXObject(e,t);if(r&&(!i.min||n.compareNums(t,i.min)>0)){i.min=t}if(!r&&(!i.max||n.compareNums(t,i.max)<0)){i.max=t}return r}var o=[0,0,0,0],u=[].concat(i.digits),a=i.min?1:0,f,l,c,h,p,d=function(t,r){var i=[].concat(o);i[t]=r;return n.isActiveXObject(e,i.join(","))};if(i.max){h=i.max.split(n.splitNumRegx);for(f=0;f<h.length;f++){h[f]=parseInt(h[f],10)}if(h[0]<u[0]){u[0]=h[0]}}if(i.min){p=i.min.split(n.splitNumRegx);for(f=0;f<p.length;f++){p[f]=parseInt(p[f],10)}if(p[0]>o[0]){o[0]=p[0]}}if(p&&h){for(f=1;f<p.length;f++){if(p[f-1]!=h[f-1]){break}if(h[f]<u[f]){u[f]=h[f]}if(p[f]>o[f]){o[f]=p[f]}}}if(i.max){for(f=1;f<u.length;f++){if(h[f]>0&&u[f]==0&&u[f-1]<i.digits[f-1]){u[f-1]+=1;break}}}for(f=0;f<u.length;f++){c={};for(l=0;l<20;l++){if(u[f]-o[f]<1){break}r=round((u[f]+o[f])/2);if(c["a"+r]){break}c["a"+r]=1;if(d(f,r)){o[f]=r;a=1}else{u[f]=r}}u[f]=o[f];if(!a&&d(f,o[f])){a=1}if(!a){break}}return a?o.join(","):null},addWinEvent:function(e,t){var n=this,r=window,i;if(n.isFunc(t)){if(r.addEventListener){r.addEventListener(e,t,false)}else{if(r.attachEvent){r.attachEvent("on"+e,t)}else{i=r["on"+e];r["on"+e]=n.winHandler(t,i)}}}},winHandler:function(e,t){return function(){e();if(typeof t=="function"){t()}}},WLfuncs0:[],WLfuncs:[],runWLfuncs:function(e){var t={};e.winLoaded=true;e.callArray(e.WLfuncs0);e.callArray(e.WLfuncs);if(e.onDoneEmptyDiv){e.onDoneEmptyDiv()}},winLoaded:false,$$onWindowLoaded:function(e){return function(t){if(e.winLoaded){e.call(t)}else{e.fPush(t,e.WLfuncs)}}},div:null,divID:"plugindetect",divWidth:50,pluginSize:1,emptyDiv:function(){var e=this,t,n,r,i,s,o;if(e.div&&e.div.childNodes){for(t=e.div.childNodes.length-1;t>=0;t--){r=e.div.childNodes[t];if(r&&r.childNodes){for(n=r.childNodes.length-1;n>=0;n--){o=r.childNodes[n];try{r.removeChild(o)}catch(s){}}}if(r){try{e.div.removeChild(r)}catch(s){}}}}if(!e.div){i=document.getElementById(e.divID);if(i){e.div=i}}if(e.div&&e.div.parentNode){try{e.div.parentNode.removeChild(e.div)}catch(s){}e.div=null}},DONEfuncs:[],onDoneEmptyDiv:function(){var e=this,t,n;if(!e.winLoaded){return}if(e.WLfuncs&&e.WLfuncs.length&&e.WLfuncs[e.WLfuncs.length-1]!==null){return}for(t in e){n=e[t];if(n&&n.funcs){if(n.OTF==3){return}if(n.funcs.length&&n.funcs[n.funcs.length-1]!==null){return}}}for(t=0;t<e.DONEfuncs.length;t++){e.callArray(e.DONEfuncs)}e.emptyDiv()},getWidth:function(e){if(e){var t=e.scrollWidth||e.offsetWidth,n=this;if(n.isNum(t)){return t}}return-1},getTagStatus:function(e,t,n,r){var i=this,s,o=e.span,u=i.getWidth(o),a=n.span,f=i.getWidth(a),l=t.span,c=i.getWidth(l);if(!o||!a||!l||!i.getDOMobj(e)){return-2}if(f<c||u<0||f<0||c<0||c<=i.pluginSize||i.pluginSize<1){return 0}if(u>=c){return-1}try{if(u==i.pluginSize&&(!i.isIE||i.getDOMobj(e).readyState==4)){if(!e.winLoaded&&i.winLoaded){return 1}if(e.winLoaded&&i.isNum(r)){if(!i.isNum(e.count)){e.count=r}if(r-e.count>=10){return 1}}}}catch(s){}return 0},getDOMobj:function(e,t){var n,r=this,i=e?e.span:0,s=i&&i.firstChild?1:0;try{if(s&&t){r.div.focus()}}catch(n){}return s?i.firstChild:null},setStyle:function(e,t){var n=e.style,r,i,s=this;if(n&&t){for(r=0;r<t.length;r=r+2){try{n[t[r]]=t[r+1]}catch(i){}}}},insertDivInBody:function(e,t){var n,r=this,i="pd33993399",s=null,o=t?window.top.document:window.document,u=o.getElementsByTagName("body")[0]||o.body;if(!u){try{o.write('<div id="'+i+'">.'+r.openTag+"/div>");s=o.getElementById(i)}catch(n){}}u=o.getElementsByTagName("body")[0]||o.body;if(u){u.insertBefore(e,u.firstChild);if(s){u.removeChild(s)}}},insertHTML:function(e,t,n,r,i){var s,o=document,u=this,a,f=o.createElement("span"),l,c;var h=["outlineStyle","none","borderStyle","none","padding","0px","margin","0px","visibility","visible"];var p="outline-style:none;border-style:none;padding:0px;margin:0px;visibility:visible;";if(!u.isDefined(r)){r=""}if(u.isString(e)&&/[^\s]/.test(e)){e=e.toLowerCase().replace(/\s/g,"");a=u.openTag+e+' width="'+u.pluginSize+'" height="'+u.pluginSize+'" ';a+='style="'+p+'display:inline;" ';for(l=0;l<t.length;l=l+2){if(/[^\s]/.test(t[l+1])){a+=t[l]+'="'+t[l+1]+'" '}}a+=">";for(l=0;l<n.length;l=l+2){if(/[^\s]/.test(n[l+1])){a+=u.openTag+'param name="'+n[l]+'" value="'+n[l+1]+'" />'}}a+=r+u.openTag+"/"+e+">"}else{a=r}if(!u.div){c=o.getElementById(u.divID);if(c){u.div=c}else{u.div=o.createElement("div");u.div.id=u.divID}u.setStyle(u.div,h.concat(["width",u.divWidth+"px","height",u.pluginSize+3+"px","fontSize",u.pluginSize+3+"px","lineHeight",u.pluginSize+3+"px","verticalAlign","baseline","display","block"]));if(!c){u.setStyle(u.div,["position","absolute","right","0px","top","0px"]);u.insertDivInBody(u.div)}}if(u.div&&u.div.parentNode){u.setStyle(f,h.concat(["fontSize",u.pluginSize+3+"px","lineHeight",u.pluginSize+3+"px","verticalAlign","baseline","display","inline"]));try{f.innerHTML=a}catch(s){}try{u.div.appendChild(f)}catch(s){}return{span:f,winLoaded:u.winLoaded,tagName:e,outerHTML:a}}return{span:null,winLoaded:u.winLoaded,tagName:"",outerHTML:a}},Plugins:{quicktime:{mimeType:["video/quicktime","application/x-quicktimeplayer","image/x-macpaint","image/x-quicktime"],progID:"QuickTimeCheckObject.QuickTimeCheck.1",progID0:"QuickTime.QuickTime",classID:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",minIEver:7,HTML:'<param name="src" value="" /><param name="controller" value="false" />',getCodeBaseVersion:function(e){return'codebase="#version='+e+'"'},SEARCH:{min:0,max:0,match:0,digits:[16,128,128,0]},getVersion:function(e){var t=this,n=t.$,r=null,i=null,s;if(!n.isIE){if(n.hasMimeType(t.mimeType)){i=n.OS!=3?n.findNavPlugin("QuickTime.*Plug-?in",0):null;if(i&&i.name){r=n.getNum(i.name)}}}else{if(n.isStrNum(e)){s=e.split(n.splitNumRegx);if(s.length>3&&parseInt(s[3],10)>0){s[3]="9999"}e=s.join(",")}if(n.isStrNum(e)&&n.verIE>=t.minIEver&&t.canUseIsMin()>0){t.installed=t.isMin(e);t.getVersionDone=0;return}t.getVersionDone=1;if(!r&&n.verIE>=t.minIEver){r=t.CDBASE2VER(n.codebaseSearch(t))}if(!r){i=n.getAXO(t.progID);if(i&&i.QuickTimeVersion){r=i.QuickTimeVersion.toString(16);r=parseInt(r.charAt(0),16)+"."+parseInt(r.charAt(1),16)+"."+parseInt(r.charAt(2),16)}}}t.installed=r?1:i?0:-1;t.version=n.formatNum(r,3)},cdbaseUpper:["7,60,0,0","0,0,0,0"],cdbaseLower:["7,50,0,0",null],cdbase2ver:[function(e,t){var n=t.split(e.$.splitNumRegx);return[n[0],n[1].charAt(0),n[1].charAt(1),n[2]].join(",")},null],CDBASE2VER:function(e){var t=this,n=t.$,r,i=t.cdbaseUpper,s=t.cdbaseLower;if(e){e=n.formatNum(e);for(r=0;r<i.length;r++){if(i[r]&&n.compareNums(e,i[r])<0&&s[r]&&n.compareNums(e,s[r])>=0&&t.cdbase2ver[r]){return t.cdbase2ver[r](t,e)}}}return e},canUseIsMin:function(){var e=this,t=e.$,n,r=e.canUseIsMin,i=e.cdbaseUpper,s=e.cdbaseLower;if(!r.value){r.value=-1;for(n=0;n<i.length;n++){if(i[n]&&t.codebaseSearch(e,i[n])){r.value=1;break}if(s[n]&&t.codebaseSearch(e,s[n])){r.value=-1;break}}}e.SEARCH.match=r.value==1?1:0;return r.value},isMin:function(e){var t=this,n=t.$;return n.codebaseSearch(t,e)?.7:-1}},flash:{mimeType:"application/x-shockwave-flash",progID:"ShockwaveFlash.ShockwaveFlash",classID:"clsid:D27CDB6E-AE6D-11CF-96B8-444553540000",getVersion:function(){var e=function(e){if(!e){return null}var t=/[\d][\d\,\.\s]*[rRdD]{0,1}[\d\,]*/.exec(e);return t?t[0].replace(/[rRdD\.]/g,",").replace(/\s/g,""):null};var t=this,n=t.$,r,i,s=null,o=null,u=null,a,f,l;if(!n.isIE){f=n.hasMimeType(t.mimeType);if(f){a=n.getDOMobj(n.insertHTML("object",["type",t.mimeType],[],"",t));try{s=n.getNum(a.GetVariable("$version"))}catch(r){}}if(!s){l=f?f.enabledPlugin:null;if(l&&l.description){s=e(l.description)}if(s){s=n.getPluginFileVersion(l,s)}}}else{for(i=15;i>2;i--){o=n.getAXO(t.progID+"."+i);if(o){u=i.toString();break}}if(!o){o=n.getAXO(t.progID)}if(u=="6"){try{o.AllowScriptAccess="always"}catch(r){return"6,0,21,0"}}try{s=e(o.GetVariable("$version"))}catch(r){}if(!s&&u){s=u}}t.installed=s?1:-1;t.version=n.formatNum(s);return true}},shockwave:{mimeType:"application/x-director",progID:"SWCtl.SWCtl",classID:"clsid:166B1BCA-3F9C-11CF-8075-444553540000",getVersion:function(){var e=null,t=null,n,r,i=this,s=i.$;if(!s.isIE){r=s.findNavPlugin("Shockwave\\s*for\\s*Director");if(r&&r.description&&s.hasMimeType(i.mimeType)){e=s.getNum(r.description)}if(e){e=s.getPluginFileVersion(r,e)}}else{try{t=s.getAXO(i.progID).ShockwaveVersion("")}catch(n){}if(s.isString(t)&&t.length>0){e=s.getNum(t)}else{if(s.getAXO(i.progID+".8")){e="8"}else{if(s.getAXO(i.progID+".7")){e="7"}else{if(s.getAXO(i.progID+".1")){e="6"}}}}}i.installed=e?1:-1;i.version=s.formatNum(e)}},zz:0}};PluginDetect.initScript();var gArgCountErr='The "%%" function requires an even number of arguments.\nArguments should be in the form "atttributeName", "attributeValue", ...',gTagAttrs=null,gQTGeneratorVersion=1;(function(){function e(e){e=e||location.href;return"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var t=document,n,r=$.event.special,i=t.documentMode,s="oniLightBoxHashChange"in window&&(void 0===i||7<i);$.fn.iLightBoxHashChange=function(e){return e?this.bind("iLightBoxHashChange",e):this.trigger("iLightBoxHashChange")};$.fn.iLightBoxHashChange.delay=50;r.iLightBoxHashChange=$.extend(r.iLightBoxHashChange,{setup:function(){if(s)return!1;$(n.start)},teardown:function(){if(s)return!1;$(n.stop)}});n=function(){function n(){var t=e(),r=f(o);t!==o?(a(o=t,r),$(window).trigger("iLightBoxHashChange")):r!==o&&(location.href=location.href.replace(/#.*/,"")+r);i=setTimeout(n,$.fn.iLightBoxHashChange.delay)}var r={},i,o=e(),u=function(e){return e},a=u,f=u;r.start=function(){i||n()};r.stop=function(){i&&clearTimeout(i);i=void 0};browser.msie&&!s&&function(){var i,s;r.start=function(){i||(s=(s=$.fn.iLightBoxHashChange.src)&&s+e(),i=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){s||a(e());n()}).attr("src",s||"javascript:0").insertAfter("body")[0].contentWindow,t.onpropertychange=function(){try{"title"===event.propertyName&&(i.document.title=t.title)}catch(e){}})};r.stop=u;f=function(){return e(i.location.href)};a=function(e,n){var r=i.document,s=$.fn.iLightBoxHashChange.domain;e!==n&&(r.title=t.title,r.open(),s&&r.write('<script>document.domain="'+s+'"</script>'),r.close(),i.location.hash=e)}}();return r}()})();if(!Array.prototype.filter){Array.prototype.filter=function(e){"use strict";if(this==null)throw new TypeError;var t=Object(this);var n=t.length>>>0;if(typeof e!="function")throw new TypeError;var r=[];var i=arguments[1];for(var s=0;s<n;s++){if(s in t){var o=t[s];if(e.call(i,o,s,t))r.push(o)}}return r}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e,t){var n;if(this==null){throw new TypeError('"this" is null or not defined')}var r=Object(this);var i=r.length>>>0;if(i===0){return-1}var s=+t||0;if(abs(s)===Infinity){s=0}if(s>=i){return-1}n=max(s>=0?s:i-abs(s),0);while(n<i){var o;if(n in r&&r[n]===e){return n}n++}return-1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(e){"use strict";if(this==null)throw new TypeError;var t=Object(this);var n=t.length>>>0;if(n===0)return-1;var r=n;if(arguments.length>1){r=Number(arguments[1]);if(r!=r)r=0;else if(r!=0&&r!=1/0&&r!=-(1/0))r=(r>0||-1)*floor(abs(r))}var i=r>=0?min(r,n-1):n-abs(r);for(;i>=0;i--){if(i in t&&t[i]===e)return i}return-1}}})(jQuery,this);

